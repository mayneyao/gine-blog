---
title: gine-blog æŒ–å‘è¯¦æƒ…
tags: [Blog,è½®å­]
desc: åŸºäº gatsby,react,material-ui çš„é™æ€blogç¨‹åº
date: 2019/01/12
---


## ä¸ºä»€ä¹ˆåˆè¦é€ è½®å­

- blog å¾ˆä¹…æ²¡å†™äº†ï¼ˆæ²¡ä¸œè¥¿å†™ï¼‰
- ç†Ÿæ‚‰ `gatsby` `graphql`
- é™æ€é¡µé¢ä¼˜ç‚¹
    - SEOå‹å¥½
    - é€Ÿåº¦å¿«
- hexoçš„ejså°±åƒè€å¥¶å¥¶çš„è£¹è„šå¸ƒï¼Œå¸Œæœ›ç”¨ç†Ÿæ‚‰çš„æŠ€æœ¯æ ˆæ¥æ„å»ºè‡ªå·±çš„blog
- `gatsby` çš„æ¨¡å¼æ·±å¾—æˆ‘â¤ï¸
- `notion` å¯ä»¥ç”¨æ¥å†™ä½œï¼Œä½†æ˜¯ä¸é€‚åˆåˆ†äº«ç»™åˆ«äººçœ‹ï¼Œä¹Ÿä¸é€‚åˆäº¤æµ
- `notion` ~~é©¬ä¸Š(å¯èƒ½æ˜¯æ˜å¹´å§ï¼Œé¸½é¸½é¸½~)~~è¦å¼€apiäº†ï¼Œäº‘ç«¯åä½œï¼Œè‡ªåŠ¨åŒæ­¥å²‚ä¸ç¾å“‰ğŸ˜†

## è¦é€ æˆä»€ä¹ˆæ ·çš„è½®å­

- Plan A

    ç†æƒ³çš„æƒ…å†µæ˜¯ä»¥ `notion` ä½œä¸ºåä½œçš„åç«¯ã€‚æ–‡ç« å‘å¸ƒåï¼ˆshare public access ï¼‰ï¼Œwebhookå‘ `netlify` çš„build åŠ¨ä½œ, `gatsby` build çš„æ—¶å€™æ‹‰å– `notion` çš„æ–‡ç« æ•°æ®ç¼–è¯‘æˆé™æ€é¡µé¢ã€‚

    ![](sequence_diagram-ccfc0122-aaf0-4c74-96e5-7e32680cde38.png)

    é‰´äºç›®å‰notionå¼€æ”¾apiçš„æ—¥ç¨‹ä¸€ç›´åœ¨æ¨å(ç–¯ç‹‚æ‘¸é±¼)ï¼Œå¯¹åŸºäºå®˜æ–¹APIçš„è‡ªåŠ¨åŒ–éƒ¨ç½²ä¸æŠ±å¤ªå¤§çš„å¸Œæœ›

- Plan B

    ç”¨éå®˜æ–¹çš„notion-pyï¼Œè‡ªå·±æ­å»ºä¸€ä¸ªæ¨é€æ•°æ®æœåŠ¡ã€‚ç›®å‰æ²¡æœ‰ç›´æ¥ç”Ÿæˆmarkdownçš„æ¥å£ã€‚è¿”å›çš„æ–‡ç« å…¨æ˜¯blockã€‚æ„å»ºä¸€å¥—reactç»„ä»¶ä¸€ä¸€æ˜ å°„notionçš„blockã€‚

- Plan C
    - æ‰‹åŠ¨æŒ¡å¯¼å‡ºblogé¡µé¢çš„æ‰€æœ‰æ–‡ç« ä¸ºmarkdownæ ¼å¼
    - notionçš„markdown æ ¼å¼ä¸ç»Ÿä¸€ï¼Œä¸¢å¤±äº†code block çš„ languageä¿¡æ¯ï¼Œéœ€è¦å†å¤„ç†ä¸€é markdown

A > B > C ç›®å‰æ˜¯Cæ–¹æ¡ˆï¼Œå¼€ä¸‰ä¸ªåˆ†æ”¯æ…¢æ…¢æã€‚ä¸¤å¼€èŠ±ä¸¤å¼€èŠ±ğŸ’

- [x]  Plan C
    - ç»§ç»­ä¼˜åŒ–
- [ ]  Plan B
    - å¼€æ–°çš„åˆ†æ”¯å®éªŒä¸€ä¸‹api
- [ ]  Plan A
    - ç­‰notionå¼€æ”¾api

## å…ˆå¯¼ä»»åŠ¡

- [x]  çœ‹gatsbyæ–‡æ¡£ï¼Œç†Ÿæ‚‰ä½¿ç”¨

## Gatsby ä½¿ç”¨ä½“éªŒ

- `graphql` çœŸé¦™
- å¯ä»¥ä»ä»»æ„æ•°æ®æºç”Ÿæˆ graphql æ•°æ®
- å¯ä»¥ç»“åˆè¿œç¨‹ api åšæˆé™æ€+åŠ¨æ€å†…å®¹
- å¦‚æœ api æ•°æ®è¾ƒå°‘ï¼Œå¯ä»¥ç›´æ¥ graphql ç¼“å­˜ä¸‹æ¥

## Lighthouse Report

![](TIMæˆªå›¾20190112015050.png)

æ˜¯ä¸æ˜¯å¾ˆé¦™2333

## Roadmap

- ä»£ç åœ°å€ï¼š [https://github.com/mayneyao/gine-blog](https://github.com/mayneyao/gine-blog)
- demoåœ°å€ï¼š[https://blog.gine.me/page/1](https://blog.gine.me/page/1)

- TODO
    - [x]  åˆ—è¡¨é¡µ
        - [x]  åˆ†é¡µç»„ä»¶
    - [x]  æ–‡ç« é¡µ
        - [x]  å¤´å›¾
        - [x]  tags
        - [ ]  è¯„è®º
        - [x]  å‘å¸ƒæ—¶é—´
        - [ ]  TOC
    - [x]  åº•éƒ¨
        - [x]  æ ¼è¨€
    - [x]  å…¨éƒ¨æ ‡é¡µâ€”â€”æ ‡ç­¾äº‘
        - ç”¨äº†æ ‡ç­¾åï¼Œå°±ä¸ç”¨åˆ†ç±»äº†ã€‚2è€…åŠŸèƒ½é‡å ï¼Œtagæ‰å¹³ä¸€ç‚¹ã€‚
        - [ ]  better css
    - [x]  å½’æ¡£â€”â€”timeline
        - [ ]  better css
    - [x]  æ ‡ç­¾è¯¦æƒ…é¡µ å…³äºè¯¥æ ‡ç­¾çš„æ‰€æœ‰æ–‡ç« å…¨éƒ¨åˆ—å‡ºæ¥
    - [x]  404
    - [ ]  é›†æˆ google analytics
    - [ ]  å‹é“¾
    - [ ]  about me
    - [x]  åŸŸå https
    - [x]  PWA ç¦»çº¿ä½“éªŒ
    - [x]  sitemap SEOä¼˜åŒ–
    - [ ]  RSS